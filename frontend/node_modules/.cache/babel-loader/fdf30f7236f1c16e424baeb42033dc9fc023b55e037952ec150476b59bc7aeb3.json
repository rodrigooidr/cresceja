{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projetos App\\\\cresceja\\\\frontend\\\\src\\\\pages\\\\Admin\\\\AdminClients.jsx\",\n  _s = $RefreshSig$();\n// src/pages/Admin/AdminClients.jsx\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport api from \"../../api/api\";\n\n// helpers de data\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ymd = d => d ? new Date(d).toISOString().slice(0, 10) : \"\";\nconst addMonths = (date, n = 1) => {\n  const d = new Date(date);\n  d.setMonth(d.getMonth() + Number(n || 0));\n  return d;\n};\nconst addDays = (date, n = 0) => new Date(new Date(date).getTime() + Number(n || 0) * 86400 * 1000);\nconst todayISO = () => ymd(new Date());\nconst daysLeft = end => {\n  if (!end) return null;\n  const diff = Math.ceil((new Date(end) - new Date()) / (1000 * 60 * 60 * 24));\n  return diff;\n};\n\n// compat snake_case/camelCase vindos do backend\nconst getPlanField = (p, snake, camel, defVal) => {\n  var _ref, _p$snake;\n  return (_ref = (_p$snake = p === null || p === void 0 ? void 0 : p[snake]) !== null && _p$snake !== void 0 ? _p$snake : p === null || p === void 0 ? void 0 : p[camel]) !== null && _ref !== void 0 ? _ref : defVal;\n};\nexport default function AdminClients() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [savingId, setSavingId] = useState(null);\n  const [items, setItems] = useState([]);\n  const [plans, setPlans] = useState([]);\n  const [q, setQ] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [verifyingId, setVerifyingId] = useState(null);\n\n  // Carrega clientes + planos\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      try {\n        var _clientsRes$data, _plansRes$data;\n        setLoading(true);\n        setErrorMsg(\"\");\n        const [clientsRes, plansRes] = await Promise.all([api.get(`/api/admin/clients`, {\n          params: {\n            query: q\n          }\n        }), api.get(`/api/public/plans`) // usa público como fonte de verdade para opções\n        ]);\n        if (!mounted) return;\n        const rawClients = (clientsRes === null || clientsRes === void 0 ? void 0 : (_clientsRes$data = clientsRes.data) === null || _clientsRes$data === void 0 ? void 0 : _clientsRes$data.clients) || (clientsRes === null || clientsRes === void 0 ? void 0 : clientsRes.data) || [];\n        const rawPlans = Array.isArray(plansRes === null || plansRes === void 0 ? void 0 : (_plansRes$data = plansRes.data) === null || _plansRes$data === void 0 ? void 0 : _plansRes$data.plans) ? plansRes.data.plans : Array.isArray(plansRes === null || plansRes === void 0 ? void 0 : plansRes.data) ? plansRes.data : [];\n\n        // adiciona campos efêmeros para inputs de pagamento\n        const clients = (rawClients || []).map(c => ({\n          ...c,\n          _session_id: \"\",\n          _payment_id: \"\"\n        }));\n        setItems(clients);\n        setPlans(rawPlans);\n      } catch (e) {\n        var _e$response;\n        console.error(\"AdminClients load error\", e);\n        const status = e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.status;\n        if (status === 401) setErrorMsg(\"Faça login para acessar esta área.\");else if (status === 403) setErrorMsg(\"Você precisa ser administrador.\");else setErrorMsg(\"Não foi possível carregar os dados.\");\n        setItems([]);\n        setPlans([]);\n      } finally {\n        setLoading(false);\n      }\n    })();\n    return () => mounted = false;\n  }, [q]);\n  const planById = useMemo(() => {\n    const m = {};\n    for (const p of plans) m[p.id] = p;\n    return m;\n  }, [plans]);\n  const handleChange = (id, field, value) => {\n    setItems(prev => prev.map(c => c.id === id ? {\n      ...c,\n      [field]: value\n    } : c));\n  };\n  const saveClient = async c => {\n    try {\n      setSavingId(c.id);\n      const body = {\n        active: !!c.active,\n        start_date: c.start_date ? ymd(c.start_date) : null,\n        end_date: c.end_date ? ymd(c.end_date) : null,\n        plan_id: c.plan_id || null\n      };\n      await api.patch(`/api/admin/clients/${c.id}`, body);\n    } catch (e) {\n      console.error(\"saveClient\", e);\n      alert(\"Falha ao salvar cliente.\");\n    } finally {\n      setSavingId(null);\n    }\n  };\n\n  // aplica período a partir das regras do plano (free = trial_days; pago = billing_months)\n  const applyPeriodFromPlan = async c => {\n    try {\n      const plan = planById[c.plan_id];\n      if (!plan) {\n        alert(\"Selecione um plano primeiro.\");\n        return;\n      }\n      const isFree = !!getPlanField(plan, \"is_free\", \"isFree\", false);\n      const start = todayISO();\n      let end;\n      if (isFree) {\n        const trialDays = Number(getPlanField(plan, \"trial_days\", \"trialDays\", 14));\n        end = ymd(addDays(new Date(), trialDays));\n      } else {\n        const months = Number(getPlanField(plan, \"billing_period_months\", \"billingPeriodMonths\", 1));\n        end = ymd(addMonths(new Date(), months));\n      }\n      const body = {\n        active: true,\n        start_date: start,\n        end_date: end,\n        plan_id: c.plan_id || null\n      };\n      await api.patch(`/api/admin/clients/${c.id}`, body);\n      setItems(prev => prev.map(x => x.id === c.id ? {\n        ...x,\n        ...body,\n        _session_id: \"\",\n        _payment_id: \"\"\n      } : x));\n      alert(isFree ? \"Período FREE aplicado.\" : \"Período do plano aplicado.\");\n    } catch (e) {\n      console.error(\"applyPeriodFromPlan\", e);\n      alert(\"Erro ao aplicar período do plano.\");\n    }\n  };\n\n  // Verifica pagamento (Stripe session_id OU MP payment_id) e aplica período (não exige pagamento se plano for FREE)\n  const verifyAndApply = async c => {\n    try {\n      setVerifyingId(c.id);\n      const plan = planById[c.plan_id];\n      if (!plan) {\n        alert(\"Selecione um plano primeiro.\");\n        return;\n      }\n      const isFree = !!getPlanField(plan, \"is_free\", \"isFree\", false);\n\n      // Se FREE, não precisa verificar pagamento: aplica direto\n      if (isFree) {\n        await applyPeriodFromPlan(c);\n        return;\n      }\n      if (!c._session_id && !c._payment_id) {\n        alert(\"Informe o Stripe session_id ou o Mercado Pago payment_id\");\n        return;\n      }\n      const params = {};\n      if (c._session_id) params.session_id = c._session_id;\n      if (c._payment_id) params.payment_id = c._payment_id;\n      if (c.plan_id) params.plan = c.plan_id;\n      const {\n        data\n      } = await api.get(`/api/billing/verify`, {\n        params\n      });\n      if ((data === null || data === void 0 ? void 0 : data.status) === \"paid\" || data !== null && data !== void 0 && data.dev) {\n        await applyPeriodFromPlan(c);\n      } else {\n        alert(`Status do pagamento: ${(data === null || data === void 0 ? void 0 : data.status) || \"desconhecido\"}`);\n      }\n    } catch (e) {\n      console.error(\"verifyAndApply\", e);\n      alert(\"Erro ao verificar pagamento.\");\n    } finally {\n      setVerifyingId(null);\n    }\n  };\n  const filtered = useMemo(() => {\n    if (!q) return items;\n    const s = q.toLowerCase();\n    return items.filter(c => String(c.name || \"\").toLowerCase().includes(s) || String(c.email || \"\").toLowerCase().includes(s) || String(c.company_name || \"\").toLowerCase().includes(s));\n  }, [items, q]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between gap-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold\",\n        children: \"Admin \\u2022 Clientes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: q,\n          onChange: e => setQ(e.target.value),\n          placeholder: \"Buscar por nome, e-mail, empresa\\u2026\",\n          className: \"border rounded-lg px-3 py-2 w-80\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setQ(\"\"),\n          className: \"px-3 py-2 border rounded-lg hover:bg-gray-50\",\n          children: \"Limpar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-3 rounded bg-amber-50 text-amber-800 text-sm\",\n      children: errorMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 text-sm text-gray-500\",\n      children: \"Carregando\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-6 grid gap-3\",\n      children: [filtered.map(c => {\n        const dLeft = daysLeft(c.end_date);\n        const expired = c.active ? dLeft !== null && dLeft < 0 : true;\n        const plan = planById[c.plan_id];\n        const planLabel = plan ? `${plan.name} (${plan.id})` : c.plan_id || \"—\";\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-xl p-4 grid md:grid-cols-12 gap-3 items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:col-span-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold\",\n              children: c.name || c.company_name || \"—\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: c.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500\",\n              children: [\"ID: \", /*#__PURE__*/_jsxDEV(\"code\", {\n                children: c.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 62\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:col-span-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-xs text-gray-500\",\n              children: \"Plano\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: c.plan_id || \"\",\n              onChange: e => handleChange(c.id, \"plan_id\", e.target.value),\n              className: \"w-full border rounded-lg px-2 py-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u2014 selecione \\u2014\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 21\n              }, this), plans.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: p.id,\n                children: [p.name, \" (\", p.id, \")\"]\n              }, p.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: [\"Atual: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium\",\n                children: planLabel\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 28\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-xs text-gray-500\",\n              children: \"In\\xEDcio\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: c.start_date ? ymd(c.start_date) : \"\",\n              onChange: e => handleChange(c.id, \"start_date\", e.target.value),\n              className: \"w-full border rounded-lg px-2 py-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:col-span-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-xs text-gray-500\",\n              children: \"Fim\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: c.end_date ? ymd(c.end_date) : \"\",\n              onChange: e => handleChange(c.id, \"end_date\", e.target.value),\n              className: \"w-full border rounded-lg px-2 py-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs mt-1\",\n              children: dLeft === null ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500\",\n                children: \"sem data de fim\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 23\n              }, this) : expired ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-600 font-medium\",\n                children: \"expirado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-600\",\n                children: [\"restam \", dLeft, \" dia(s)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:col-span-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-xs text-gray-500 block\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleChange(c.id, \"active\", !c.active),\n              className: `w-full px-3 py-2 rounded-lg ${c.active ? \"bg-green-600 text-white\" : \"bg-gray-200 text-gray-800\"}`,\n              children: c.active ? \"Ativo\" : \"Inativo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:col-span-3 flex items-end gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => saveClient(c),\n              disabled: savingId === c.id,\n              className: \"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-60\",\n              children: savingId === c.id ? \"Salvando…\" : \"Salvar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => applyPeriodFromPlan(c),\n              className: \"px-3 py-2 rounded-lg border hover:bg-gray-50\",\n              children: \"Aplicar per\\xEDodo do plano\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:col-span-12 grid md:grid-cols-12 gap-2 border-t pt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-3 text-xs text-gray-600\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-semibold\",\n                children: \"Pagamento (opcional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Para planos pagos, verifique o pagamento e aplique o per\\xEDodo. (Planos FREE n\\xE3o precisam verifica\\xE7\\xE3o.)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-3\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                value: c._session_id,\n                onChange: e => handleChange(c.id, \"_session_id\", e.target.value),\n                placeholder: \"Stripe session_id\",\n                className: \"w-full border rounded-lg px-2 py-2 text-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-3\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                value: c._payment_id,\n                onChange: e => handleChange(c.id, \"_payment_id\", e.target.value),\n                placeholder: \"MP payment_id\",\n                className: \"w-full border rounded-lg px-2 py-2 text-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"md:col-span-3\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => verifyAndApply(c),\n                disabled: verifyingId === c.id,\n                className: \"w-full px-3 py-2 rounded-lg border hover:bg-gray-50 disabled:opacity-60\",\n                children: verifyingId === c.id ? \"Verificando…\" : \"Verificar e aplicar período\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 17\n          }, this)]\n        }, c.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this);\n      }), !filtered.length && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500\",\n        children: \"Nenhum cliente encontrado.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminClients, \"AC9XypEOhNl3SSreArQATv6VabE=\");\n_c = AdminClients;\nvar _c;\n$RefreshReg$(_c, \"AdminClients\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","api","jsxDEV","_jsxDEV","ymd","d","Date","toISOString","slice","addMonths","date","n","setMonth","getMonth","Number","addDays","getTime","todayISO","daysLeft","end","diff","Math","ceil","getPlanField","p","snake","camel","defVal","_ref","_p$snake","AdminClients","_s","loading","setLoading","savingId","setSavingId","items","setItems","plans","setPlans","q","setQ","errorMsg","setErrorMsg","verifyingId","setVerifyingId","mounted","_clientsRes$data","_plansRes$data","clientsRes","plansRes","Promise","all","get","params","query","rawClients","data","clients","rawPlans","Array","isArray","map","c","_session_id","_payment_id","e","_e$response","console","error","status","response","planById","m","id","handleChange","field","value","prev","saveClient","body","active","start_date","end_date","plan_id","patch","alert","applyPeriodFromPlan","plan","isFree","start","trialDays","months","x","verifyAndApply","session_id","payment_id","dev","filtered","s","toLowerCase","filter","String","name","includes","email","company_name","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","target","placeholder","onClick","dLeft","expired","planLabel","type","disabled","length","_c","$RefreshReg$"],"sources":["C:/Projetos App/cresceja/frontend/src/pages/Admin/AdminClients.jsx"],"sourcesContent":["// src/pages/Admin/AdminClients.jsx\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport api from \"../../api/api\";\n\n// helpers de data\nconst ymd = (d) => (d ? new Date(d).toISOString().slice(0, 10) : \"\");\nconst addMonths = (date, n = 1) => {\n  const d = new Date(date);\n  d.setMonth(d.getMonth() + Number(n || 0));\n  return d;\n};\nconst addDays = (date, n = 0) => new Date(new Date(date).getTime() + Number(n || 0) * 86400 * 1000);\nconst todayISO = () => ymd(new Date());\nconst daysLeft = (end) => {\n  if (!end) return null;\n  const diff = Math.ceil((new Date(end) - new Date()) / (1000 * 60 * 60 * 24));\n  return diff;\n};\n\n// compat snake_case/camelCase vindos do backend\nconst getPlanField = (p, snake, camel, defVal) => (p?.[snake] ?? p?.[camel] ?? defVal);\n\nexport default function AdminClients() {\n  const [loading, setLoading] = useState(true);\n  const [savingId, setSavingId] = useState(null);\n  const [items, setItems] = useState([]);\n  const [plans, setPlans] = useState([]);\n  const [q, setQ] = useState(\"\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [verifyingId, setVerifyingId] = useState(null);\n\n  // Carrega clientes + planos\n  useEffect(() => {\n    let mounted = true;\n    (async () => {\n      try {\n        setLoading(true);\n        setErrorMsg(\"\");\n        const [clientsRes, plansRes] = await Promise.all([\n          api.get(`/api/admin/clients`, { params: { query: q } }),\n          api.get(`/api/public/plans`), // usa público como fonte de verdade para opções\n        ]);\n        if (!mounted) return;\n\n        const rawClients = clientsRes?.data?.clients || clientsRes?.data || [];\n        const rawPlans = Array.isArray(plansRes?.data?.plans)\n          ? plansRes.data.plans\n          : Array.isArray(plansRes?.data)\n          ? plansRes.data\n          : [];\n\n        // adiciona campos efêmeros para inputs de pagamento\n        const clients = (rawClients || []).map((c) => ({\n          ...c,\n          _session_id: \"\",\n          _payment_id: \"\",\n        }));\n\n        setItems(clients);\n        setPlans(rawPlans);\n      } catch (e) {\n        console.error(\"AdminClients load error\", e);\n        const status = e?.response?.status;\n        if (status === 401) setErrorMsg(\"Faça login para acessar esta área.\");\n        else if (status === 403) setErrorMsg(\"Você precisa ser administrador.\");\n        else setErrorMsg(\"Não foi possível carregar os dados.\");\n        setItems([]);\n        setPlans([]);\n      } finally {\n        setLoading(false);\n      }\n    })();\n\n    return () => (mounted = false);\n  }, [q]);\n\n  const planById = useMemo(() => {\n    const m = {};\n    for (const p of plans) m[p.id] = p;\n    return m;\n  }, [plans]);\n\n  const handleChange = (id, field, value) => {\n    setItems((prev) => prev.map((c) => (c.id === id ? { ...c, [field]: value } : c)));\n  };\n\n  const saveClient = async (c) => {\n    try {\n      setSavingId(c.id);\n      const body = {\n        active: !!c.active,\n        start_date: c.start_date ? ymd(c.start_date) : null,\n        end_date: c.end_date ? ymd(c.end_date) : null,\n        plan_id: c.plan_id || null,\n      };\n      await api.patch(`/api/admin/clients/${c.id}`, body);\n    } catch (e) {\n      console.error(\"saveClient\", e);\n      alert(\"Falha ao salvar cliente.\");\n    } finally {\n      setSavingId(null);\n    }\n  };\n\n  // aplica período a partir das regras do plano (free = trial_days; pago = billing_months)\n  const applyPeriodFromPlan = async (c) => {\n    try {\n      const plan = planById[c.plan_id];\n      if (!plan) {\n        alert(\"Selecione um plano primeiro.\");\n        return;\n      }\n      const isFree = !!getPlanField(plan, \"is_free\", \"isFree\", false);\n      const start = todayISO();\n      let end;\n\n      if (isFree) {\n        const trialDays = Number(getPlanField(plan, \"trial_days\", \"trialDays\", 14));\n        end = ymd(addDays(new Date(), trialDays));\n      } else {\n        const months = Number(getPlanField(plan, \"billing_period_months\", \"billingPeriodMonths\", 1));\n        end = ymd(addMonths(new Date(), months));\n      }\n\n      const body = { active: true, start_date: start, end_date: end, plan_id: c.plan_id || null };\n      await api.patch(`/api/admin/clients/${c.id}`, body);\n\n      setItems((prev) =>\n        prev.map((x) => (x.id === c.id ? { ...x, ...body, _session_id: \"\", _payment_id: \"\" } : x))\n      );\n      alert(isFree ? \"Período FREE aplicado.\" : \"Período do plano aplicado.\");\n    } catch (e) {\n      console.error(\"applyPeriodFromPlan\", e);\n      alert(\"Erro ao aplicar período do plano.\");\n    }\n  };\n\n  // Verifica pagamento (Stripe session_id OU MP payment_id) e aplica período (não exige pagamento se plano for FREE)\n  const verifyAndApply = async (c) => {\n    try {\n      setVerifyingId(c.id);\n      const plan = planById[c.plan_id];\n      if (!plan) {\n        alert(\"Selecione um plano primeiro.\");\n        return;\n      }\n      const isFree = !!getPlanField(plan, \"is_free\", \"isFree\", false);\n\n      // Se FREE, não precisa verificar pagamento: aplica direto\n      if (isFree) {\n        await applyPeriodFromPlan(c);\n        return;\n      }\n\n      if (!c._session_id && !c._payment_id) {\n        alert(\"Informe o Stripe session_id ou o Mercado Pago payment_id\");\n        return;\n      }\n\n      const params = {};\n      if (c._session_id) params.session_id = c._session_id;\n      if (c._payment_id) params.payment_id = c._payment_id;\n      if (c.plan_id) params.plan = c.plan_id;\n\n      const { data } = await api.get(`/api/billing/verify`, { params });\n      if (data?.status === \"paid\" || data?.dev) {\n        await applyPeriodFromPlan(c);\n      } else {\n        alert(`Status do pagamento: ${data?.status || \"desconhecido\"}`);\n      }\n    } catch (e) {\n      console.error(\"verifyAndApply\", e);\n      alert(\"Erro ao verificar pagamento.\");\n    } finally {\n      setVerifyingId(null);\n    }\n  };\n\n  const filtered = useMemo(() => {\n    if (!q) return items;\n    const s = q.toLowerCase();\n    return items.filter(\n      (c) =>\n        String(c.name || \"\").toLowerCase().includes(s) ||\n        String(c.email || \"\").toLowerCase().includes(s) ||\n        String(c.company_name || \"\").toLowerCase().includes(s)\n    );\n  }, [items, q]);\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"flex items-center justify-between gap-3\">\n        <h1 className=\"text-2xl font-bold\">Admin • Clientes</h1>\n        <div className=\"flex items-center gap-2\">\n          <input\n            value={q}\n            onChange={(e) => setQ(e.target.value)}\n            placeholder=\"Buscar por nome, e-mail, empresa…\"\n            className=\"border rounded-lg px-3 py-2 w-80\"\n          />\n          <button onClick={() => setQ(\"\")} className=\"px-3 py-2 border rounded-lg hover:bg-gray-50\">\n            Limpar\n          </button>\n        </div>\n      </div>\n\n      {errorMsg && (\n        <div className=\"mt-4 p-3 rounded bg-amber-50 text-amber-800 text-sm\">{errorMsg}</div>\n      )}\n\n      {loading ? (\n        <div className=\"mt-6 text-sm text-gray-500\">Carregando…</div>\n      ) : (\n        <div className=\"mt-6 grid gap-3\">\n          {filtered.map((c) => {\n            const dLeft = daysLeft(c.end_date);\n            const expired = c.active ? dLeft !== null && dLeft < 0 : true;\n            const plan = planById[c.plan_id];\n            const planLabel = plan ? `${plan.name} (${plan.id})` : c.plan_id || \"—\";\n\n            return (\n              <div\n                key={c.id}\n                className=\"border rounded-xl p-4 grid md:grid-cols-12 gap-3 items-center\"\n              >\n                {/* Identificação */}\n                <div className=\"md:col-span-3\">\n                  <div className=\"font-semibold\">{c.name || c.company_name || \"—\"}</div>\n                  <div className=\"text-sm text-gray-600\">{c.email}</div>\n                  <div className=\"text-xs text-gray-500\">ID: <code>{c.id}</code></div>\n                </div>\n\n                {/* Plano */}\n                <div className=\"md:col-span-3\">\n                  <label className=\"text-xs text-gray-500\">Plano</label>\n                  <select\n                    value={c.plan_id || \"\"}\n                    onChange={(e) => handleChange(c.id, \"plan_id\", e.target.value)}\n                    className=\"w-full border rounded-lg px-2 py-2\"\n                  >\n                    <option value=\"\">— selecione —</option>\n                    {plans.map((p) => (\n                      <option key={p.id} value={p.id}>\n                        {p.name} ({p.id})\n                      </option>\n                    ))}\n                  </select>\n                  <div className=\"text-xs text-gray-500 mt-1\">\n                    Atual: <span className=\"font-medium\">{planLabel}</span>\n                  </div>\n                </div>\n\n                {/* Datas */}\n                <div className=\"md:col-span-2\">\n                  <label className=\"text-xs text-gray-500\">Início</label>\n                  <input\n                    type=\"date\"\n                    value={c.start_date ? ymd(c.start_date) : \"\"}\n                    onChange={(e) => handleChange(c.id, \"start_date\", e.target.value)}\n                    className=\"w-full border rounded-lg px-2 py-2\"\n                  />\n                </div>\n\n                <div className=\"md:col-span-2\">\n                  <label className=\"text-xs text-gray-500\">Fim</label>\n                  <input\n                    type=\"date\"\n                    value={c.end_date ? ymd(c.end_date) : \"\"}\n                    onChange={(e) => handleChange(c.id, \"end_date\", e.target.value)}\n                    className=\"w-full border rounded-lg px-2 py-2\"\n                  />\n                  <div className=\"text-xs mt-1\">\n                    {dLeft === null ? (\n                      <span className=\"text-gray-500\">sem data de fim</span>\n                    ) : expired ? (\n                      <span className=\"text-red-600 font-medium\">expirado</span>\n                    ) : (\n                      <span className=\"text-gray-600\">restam {dLeft} dia(s)</span>\n                    )}\n                  </div>\n                </div>\n\n                {/* Status */}\n                <div className=\"md:col-span-1\">\n                  <label className=\"text-xs text-gray-500 block\">Status</label>\n                  <button\n                    onClick={() => handleChange(c.id, \"active\", !c.active)}\n                    className={`w-full px-3 py-2 rounded-lg ${\n                      c.active ? \"bg-green-600 text-white\" : \"bg-gray-200 text-gray-800\"\n                    }`}\n                  >\n                    {c.active ? \"Ativo\" : \"Inativo\"}\n                  </button>\n                </div>\n\n                {/* Ações primárias */}\n                <div className=\"md:col-span-3 flex items-end gap-2\">\n                  <button\n                    onClick={() => saveClient(c)}\n                    disabled={savingId === c.id}\n                    className=\"px-3 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-60\"\n                  >\n                    {savingId === c.id ? \"Salvando…\" : \"Salvar\"}\n                  </button>\n                  <button\n                    onClick={() => applyPeriodFromPlan(c)}\n                    className=\"px-3 py-2 rounded-lg border hover:bg-gray-50\"\n                  >\n                    Aplicar período do plano\n                  </button>\n                </div>\n\n                {/* Pagamento / verificação */}\n                <div className=\"md:col-span-12 grid md:grid-cols-12 gap-2 border-t pt-3\">\n                  <div className=\"md:col-span-3 text-xs text-gray-600\">\n                    <div className=\"font-semibold\">Pagamento (opcional)</div>\n                    <div>\n                      Para planos pagos, verifique o pagamento e aplique o período. (Planos FREE\n                      não precisam verificação.)\n                    </div>\n                  </div>\n                  <div className=\"md:col-span-3\">\n                    <input\n                      value={c._session_id}\n                      onChange={(e) => handleChange(c.id, \"_session_id\", e.target.value)}\n                      placeholder=\"Stripe session_id\"\n                      className=\"w-full border rounded-lg px-2 py-2 text-sm\"\n                    />\n                  </div>\n                  <div className=\"md:col-span-3\">\n                    <input\n                      value={c._payment_id}\n                      onChange={(e) => handleChange(c.id, \"_payment_id\", e.target.value)}\n                      placeholder=\"MP payment_id\"\n                      className=\"w-full border rounded-lg px-2 py-2 text-sm\"\n                    />\n                  </div>\n                  <div className=\"md:col-span-3\">\n                    <button\n                      onClick={() => verifyAndApply(c)}\n                      disabled={verifyingId === c.id}\n                      className=\"w-full px-3 py-2 rounded-lg border hover:bg-gray-50 disabled:opacity-60\"\n                    >\n                      {verifyingId === c.id ? \"Verificando…\" : \"Verificar e aplicar período\"}\n                    </button>\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n\n          {!filtered.length && (\n            <div className=\"text-sm text-gray-500\">Nenhum cliente encontrado.</div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}